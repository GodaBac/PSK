<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head/>
<h:body>
    <h2>Create new Book:</h2>
    <h:form>
        <h:panelGrid columns="3">
            <h:outputLabel for="bookName">Enter book name:</h:outputLabel>
            <h:inputText id="bookName" value="#{seriesBooks.bookToCreate.bookName}" required="true" maxlength="20"/>
            <br/><br/>

            <h2>Select one of the available Authors:</h2>
            <ol>
                <ui:repeat value="#{seriesBooks.allAuthors}" var="author">
                    <li><h:link value="#{author.authorName}" outcome="books?authorId=#{author.id}"/></li>
                </ui:repeat>
            </ol>
            <h2>Create new Author:</h2>
            <h:form>
                <h:inputText a:placeholder="authorName" value="#{authors.authorToCreate.authorName}" required="true" />
                <h:commandButton value="Assign Author to the Book" action="#{authors.createAuthor}" >
                    <f:param name="bookId" value="#{author.books.id}" />
                </h:commandButton>
            </h:form>
            <h:link value="Back to index" outcome="/index"/>
            <h:commandButton value="Add new Book" action="#{seriesBooks.createBook}"/>
        </h:panelGrid>
    </h:form>
</h:body>
</html>